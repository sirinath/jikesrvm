<project name="openjdk" default="build" basedir=".">

  <import file="base.xml"/>
  <property file="${components.file}"/>

  <property name="openjdk.url" value="http://yangxi.anu.edu.au/openjdk.tar"/>
  <property name="openjdk.component.dir" location="${components.dir}/openjdk"/>
  <property name="openjdk.package.dir" value="${openjdk.component.dir}"/>

  <setComponentsConfig key="${target.name}.openjdk.lib.dir" value="${openjdk.package.dir}/openjdki386lib/lib"/>

  <target name="fetch">
    <if>
      <conditions>
	<not>
	  <available file="${openjdk.package.dir}"/>
	</not>
      </conditions>
      <sequential>
	<mkdir dir="${openjdk.component.dir}"/>	
	<get src="http://yangxi.anu.edu.au/openjdk.tar" dest="${openjdk.package.dir}/openjdk.tar" verbose="true"/>
	<untar src="${openjdk.package.dir}/openjdk.tar" dest="${openjdk.package.dir}/"/>
      </sequential>
    </if>	
  </target>
	      
  <target name="build" depends="fetch">
    <echo message="Building openjdk libraries"/>
  </target>
  <target name="ensure" depends="fetch">
    <echo message="Ensure openjdk libraries"/>
  </target>
</project>
